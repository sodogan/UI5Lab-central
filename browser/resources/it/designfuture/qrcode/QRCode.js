sap.ui.define(["sap/ui/core/Control","sap/ui/core/HTML","./thirdparty/js/qrcode.min"],function(e,t,r){"use strict";var i=e.extend("it.designfuture.qrcode.QRCode",{__qrcode:undefined,metadata:{library:"it.designfuture.qrcode",properties:{text:{type:"string",group:"Appearance",defaultValue:null},width:{type:"int",group:"Appearance",defaultValue:256},height:{type:"int",group:"Appearance",defaultValue:256},colorDark:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:"#000000"},colorLight:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:"#ffffff"},correctLevel:{type:"int",group:"Appearance",defaultValue:QRCode.CorrectLevel.H}},aggregations:{__qrcodeHTML:{type:"sap.ui.core.HTML",multiple:false,visibility:"hidden"}},events:{}},init:function(){this.setAggregation("__qrcodeHTML",new t({content:"<div class='openui5-qrcode' id='"+this.getId()+"-qrcode'></div>"}))},onAfterRendering:function(){var e=this.getCorrectLevel()<0||this.getCorrectLevel()>3?QRCode.CorrectLevel.H:this.getCorrectLevel();if(this.__qrcode){this.__qrcode._htOption.width=this.getWidth();this.__qrcode._htOption.height=this.getHeight();this.__qrcode._htOption.colorDark=this.getColorDark();this.__qrcode._htOption.colorLight=this.getColorLight();this.__qrcode._htOption.correctLevel=e;if(this.getText()){this.__qrcode.makeCode(this.getText())}else{this.__qrcode.clear()}}else{this.destroyQRCode();this.__qrcode=new QRCode(jQuery.sap.domById(this.getId()+"-qrcode"),{text:this.getText(),width:this.getWidth(),height:this.getHeight(),colorDark:this.getColorDark(),colorLight:this.getColorLight(),correctLevel:e})}},setText:function(e){this.setProperty("text",e,false);return this},setWidth:function(e){this.setProperty("width",e,false);return this},setHeight:function(e){this.setProperty("height",e,false);return this},setColorDark:function(e){this.setProperty("colorDark",e,false);return this},setColorLight:function(e){this.setProperty("colorLight",e,false);return this},setCorrectLevel:function(e){if(isNaN(e)){throw new Error("Value "+e+" is not a valid integer for Error Correction Level")}var t=parseInt(e,10);if(e<0||e>3){throw new Error("Value "+t+" is not a valid value for Error Correction Level (min 0, max 3)")}this.setProperty("correctLevel",t,false);return this},clearQRCode:function(){if(this.__qrcode){this.__qrcode.clear()}return this},destroyQRCode:function(){this.clearQRCode();this.__qrcode=undefined;return this}});i.prototype.exit=function(){this.destroyQRCode()};return i},true);